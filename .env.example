# ============================================================================
# RAD PANEL - ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
POSTGRES_USER=radpanel
POSTGRES_PASSWORD=CHANGE_THIS_TO_SECURE_PASSWORD
POSTGRES_DB=radpanel
POSTGRES_HOST=db
POSTGRES_PORT=5432

# Full connection string (auto-generated from above in production)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ============================================================================
# SECURITY & AUTHENTICATION
# ============================================================================
# Generate a secure random key with: openssl rand -hex 32
JWT_SECRET=CHANGE_THIS_TO_RANDOM_64_CHARACTER_STRING

# Password hashing cost (12 is recommended, higher = more secure but slower)
BCRYPT_ROUNDS=12

# JWT token expiry in days
JWT_EXPIRY_DAYS=7

# ============================================================================
# MARZBAN INTEGRATION
# ============================================================================
# Your Marzban panel URL (include https://)
MARZBAN_URL=https://your-marzban-panel.com

# Marzban admin credentials
MARZBAN_USERNAME=admin
MARZBAN_PASSWORD=your_marzban_admin_password

# ============================================================================
# PROXY CONFIGURATION (Optional - for Iran → Foreign Marzban)
# ============================================================================
# If your RAD Panel is in Iran and Marzban is abroad, configure proxy
# Leave empty if not needed

# HTTP Proxy (format: http://proxy-server:port)
HTTP_PROXY=

# HTTPS Proxy (format: http://proxy-server:port)
HTTPS_PROXY=

# SOCKS Proxy (format: socks5://proxy-server:port)
# SOCKS_PROXY=

# ============================================================================
# PANEL CONFIGURATION
# ============================================================================
# Your panel name (displayed in UI)
PANEL_NAME=RAD Panel

# Your panel domain
PANEL_DOMAIN=panel.example.com

# Panel URL (with https://)
PANEL_URL=https://${PANEL_DOMAIN}

# ============================================================================
# BACKEND CONFIGURATION
# ============================================================================
# Backend server host (use 0.0.0.0 for Docker)
BACKEND_HOST=0.0.0.0

# Backend server port
BACKEND_PORT=8000

# API prefix (e.g., /api/v1)
API_PREFIX=/api

# Enable debug mode (set to false in production!)
DEBUG=false

# CORS origins (comma-separated)
CORS_ORIGINS=https://${PANEL_DOMAIN}

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================
# Frontend port (development)
FRONTEND_PORT=3000

# API URL for frontend to call backend
VITE_API_URL=https://${PANEL_DOMAIN}/api

# ============================================================================
# FILE UPLOAD CONFIGURATION
# ============================================================================
# Upload directory path (relative to backend)
UPLOAD_DIR=/app/uploads

# Maximum file size in MB (for payment receipts)
MAX_UPLOAD_SIZE_MB=10

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf

# ============================================================================
# RATE LIMITING
# ============================================================================
# Login attempts per 15 minutes
LOGIN_RATE_LIMIT=5

# API calls per minute per user
API_RATE_LIMIT=100

# File upload per hour
UPLOAD_RATE_LIMIT=10

# ============================================================================
# BACKGROUND JOBS
# ============================================================================
# Negative credit check interval (in minutes)
NEGATIVE_CREDIT_CHECK_INTERVAL=60

# Database backup time (cron format: minute hour * * *)
BACKUP_CRON=0 3 * * *

# Backup retention days
BACKUP_RETENTION_DAYS=30

# ============================================================================
# EMAIL CONFIGURATION (Optional - for notifications)
# ============================================================================
# SMTP server
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# From email address
EMAIL_FROM=RAD Panel <noreply@${PANEL_DOMAIN}>

# Enable email notifications
EMAIL_ENABLED=false

# ============================================================================
# TELEGRAM NOTIFICATIONS (Optional - Phase 2)
# ============================================================================
# Telegram bot token
TELEGRAM_BOT_TOKEN=

# Telegram admin chat ID
TELEGRAM_ADMIN_CHAT_ID=

# Enable Telegram notifications
TELEGRAM_ENABLED=false

# ============================================================================
# LOGGING
# ============================================================================
# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path
LOG_FILE=/var/log/rad-panel/app.log

# Enable file logging
LOG_TO_FILE=true

# ============================================================================
# SECURITY HEADERS
# ============================================================================
# Enable security headers
ENABLE_SECURITY_HEADERS=true

# Content Security Policy
CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline';

# ============================================================================
# SESSION CONFIGURATION
# ============================================================================
# Session cookie name
SESSION_COOKIE_NAME=rad_session

# Session cookie secure (true for HTTPS only)
SESSION_COOKIE_SECURE=true

# Session cookie httpOnly
SESSION_COOKIE_HTTPONLY=true

# Session cookie SameSite (Strict, Lax, None)
SESSION_COOKIE_SAMESITE=Strict

# ============================================================================
# DEVELOPMENT SETTINGS (Do not use in production!)
# ============================================================================
# Enable auto-reload on code changes
AUTO_RELOAD=false

# Enable detailed error pages
SHOW_ERROR_DETAILS=false

# Enable API documentation (Swagger)
ENABLE_API_DOCS=true

# ============================================================================
# DOCKER COMPOSE SETTINGS
# ============================================================================
# Compose project name
COMPOSE_PROJECT_NAME=rad-panel

# Network name
NETWORK_NAME=rad-network

# ============================================================================
# PERSIAN CONFIGURATION
# ============================================================================
# Default language
DEFAULT_LANGUAGE=fa

# Timezone
TIMEZONE=Asia/Tehran

# Currency
CURRENCY=IRR
CURRENCY_SYMBOL=تومان

# ============================================================================
# ADVANCED SETTINGS
# ============================================================================
# Database connection pool size
DB_POOL_SIZE=5

# Database max overflow
DB_MAX_OVERFLOW=10

# Request timeout in seconds
REQUEST_TIMEOUT=30

# Max concurrent requests
MAX_CONCURRENT_REQUESTS=100

# ============================================================================
# MONITORING (Optional - Future)
# ============================================================================
# Sentry DSN for error tracking
SENTRY_DSN=

# Enable monitoring
MONITORING_ENABLED=false

# ============================================================================
# NOTES
# ============================================================================
# 1. Change all passwords and secrets before deployment!
# 2. Use strong, random values for JWT_SECRET
# 3. Set DEBUG=false in production
# 4. Enable HTTPS in production (SESSION_COOKIE_SECURE=true)
# 5. Configure backups and test restoration
# 6. Review security headers and CORS settings
# 7. Set appropriate rate limits based on your needs
# 8. Keep this file secure and never commit to Git

# ============================================================================
# EXAMPLE PRODUCTION VALUES
# ============================================================================
# DATABASE_URL=postgresql://radpanel:super_secure_pass_here@db:5432/radpanel
# JWT_SECRET=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0e1f2
# MARZBAN_URL=https://marzban.example.com
# PANEL_DOMAIN=panel.example.com
# DEBUG=false
# LOG_LEVEL=WARNING
